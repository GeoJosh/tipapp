<div class="form-container">
  <div *ngIf="formStatus === FormStatus.COMPLETE;then complete else incomplete"></div>
</div>

<ng-template #incomplete>
  <h5 class="card-title">Submit Application</h5>
  <form [formGroup]="applicationFormGroup">
    <div class="form-row">
      <div class="form-group col-md-6 required">
        <label for="firstName">First Name</label>
        <input class="form-control" type="text" formControlName="firstName" required/>
      </div>

      <div class="form-group col-md-6 required">
        <label for="venmoUsername">Venmo Username</label>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">@</span>
          </div>
          <input  class="form-control"
                  type="text"
                  formControlName="venmoUsername"
                  required/>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-12 required">
        <label for="email">Email Address</label>
        <input  class="form-control"
                type="email"
                formControlName="email"
                tooltip="We never share this information. This is only used to contact you at your request."
                placement="bottom"
                required/>
        <small id="emailHelpBlock" class="form-text text-muted">
          
        </small>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-12 required">
        <label for="employer">Employer</label>
        <input  class="form-control"
                type="text"
                formControlName="employer"
                tooltip="Your employer at the time you were impacted"
                placement="bottom"
                required/>
      </div>
    </div>    
    <div class="form-row">
      <div class="form-group col-md-12 required">
        <label for="employmentInformation">Employment Information</label>
        <textarea   class="form-control"
                    formControlName="employmentInformation"
                    tooltip="Information about what you did at your job and how the loss has effected you."
                    placement="bottom"
                    required></textarea>
      </div>
    </div>
    
    <button type="button" class="btn btn-primary btn-lg btn-block" [disabled]="applicationFormGroup.invalid" (click)="submitApplication()">Sign Up</button>

    <div *ngIf="formErrorMessage" class="error-alert">
      <alert [type]="formErrorMessage.type">{{ formErrorMessage.message }}</alert>
    </div>

  </form>

</ng-template>

<ng-template #complete>
  <div class="text-center">
    <h5 class="card-title">Application Complete</h5>
    <img class="complete-check" src="assets/check.svg" />  
  </div>
</ng-template>